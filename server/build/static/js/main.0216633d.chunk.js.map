{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","index.js"],"names":["baseUrl","services_persons","axios","get","newObject","post","id","put","concat","delete","Filter","_ref","handleFilter","handler","filterName","value","react_default","a","createElement","onSubmit","e","preventDefault","onChange","Form","_ref$handlers","handlers","handleNameChange","handleNumberChange","addPerson","_ref$values","values","newName","newNumber","type","Persons","persons","removePerson","map","person","key","name","number","onClick","window","confirm","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilterName","useEffect","personsService","then","res","data","filteredContacts","filter","includes","resetForm","components_Filter","target","PersonForm","toConsumableArray","find","objectSpread","updatedPerson","updatedPersons","length","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.0216633d.chunk.js","sourcesContent":["import axios from \"axios\"\nconst baseUrl = \"https://fullstackopen2019.herokuapp.com/api/persons\"\n\nconst getPersons = () => {\n\treturn axios.get(baseUrl)\n}\n\nconst createPerson = newObject => {\n\treturn axios.post(baseUrl, newObject)\n}\n\nconst updatePerson = (id, newObject) => {\n\treturn axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst removePerson = id => {\n\treturn axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {\n\tgetPersons: getPersons,\n\tcreatePerson: createPerson,\n\tupdatePerson: updatePerson,\n\tremovePerson: removePerson,\n}\n","import React from \"react\"\n\nconst Filter = ({ handler: { handleFilter }, value: { filterName } }) => (\n\t<form onSubmit={e => e.preventDefault()}>\n\t\t<div>\n\t\t\tfilter shown with{\" \"}\n\t\t\t<input value={filterName} onChange={handleFilter} />\n\t\t</div>\n\t</form>\n)\n\nexport default Filter\n","import React from \"react\"\n\nconst Form = ({\n\thandlers: { handleNameChange, handleNumberChange, addPerson },\n\tvalues: { newName, newNumber },\n}) => (\n\t<form onSubmit={addPerson}>\n\t\t<div>\n\t\t\tname: <input value={newName} onChange={handleNameChange} />\n\t\t\tnumber:{\" \"}\n\t\t\t<input type=\"tel\" value={newNumber} onChange={handleNumberChange} />\n\t\t</div>\n\t\t<div>\n\t\t\t<button type=\"submit\">add</button>\n\t\t</div>\n\t</form>\n)\n\nexport default Form\n","import React from \"react\"\n\nconst Persons = ({ persons, removePerson }) => {\n\tconst confirm = (id, name) => {\n\t\twindow.confirm(`Delete ${name}?`) && removePerson(id, name)\n\t\treturn\n\t}\n\treturn (\n\t\t<ul>\n\t\t\t{persons.map(person => (\n\t\t\t\t<li key={person.name}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{person.name} - {person.number}{\" \"}\n\t\t\t\t\t</span>\n\t\t\t\t\t<button onClick={() => confirm(person.id, person.name)}>\n\t\t\t\t\t\tdelete\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t)\n}\n\nexport default Persons\n","import React, { useState, useEffect } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport personsService from \"./services/persons\"\n\nimport Filter from \"./components/Filter\"\nimport PersonForm from \"./components/PersonForm\"\nimport Persons from \"./components/Persons\"\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState(\"\")\n\tconst [newNumber, setNewNumber] = useState(\"\")\n\tconst [filterName, setFilterName] = useState(\"\")\n\n\tuseEffect(() => {\n\t\tpersonsService.getPersons().then(res => {\n\t\t\tsetPersons(res.data)\n\t\t})\n\t}, [])\n\n\tconst handleNameChange = e => setNewName(e.target.value)\n\n\tconst handleNumberChange = e => setNewNumber(e.target.value)\n\n\tconst handleFilter = e => setFilterName(e.target.value)\n\n\tconst filteredContacts = !filterName\n\t\t? persons\n\t\t: persons.filter(person => person.name.includes(filterName))\n\n\tconst resetForm = () => {\n\t\tsetNewName(\"\")\n\t\tsetNewNumber(\"\")\n\t}\n\n\tconst addPerson = e => {\n\t\te.preventDefault()\n\n\t\tconst contacts = [...persons]\n\t\tconst res = contacts.find(person => person.name === newName)\n\n\t\tif (res) {\n\t\t\tconst confirm = window.confirm(\n\t\t\t\t`${newName} is already added to phonebook, replace the old number with a new one?`,\n\t\t\t)\n\t\t\tconfirm &&\n\t\t\t\tpersonsService\n\t\t\t\t\t.updatePerson(res.id, { ...res, number: newNumber })\n\t\t\t\t\t.then(updatedPerson => {\n\t\t\t\t\t\tconst updatedPersons = persons.map(person =>\n\t\t\t\t\t\t\tperson.id === updatedPerson.id\n\t\t\t\t\t\t\t\t? updatedPerson\n\t\t\t\t\t\t\t\t: person,\n\t\t\t\t\t\t)\n\t\t\t\t\t\tsetPersons(updatedPersons)\n\t\t\t\t\t\tresetForm()\n\t\t\t\t\t})\n\t\t} else if (newName && newNumber) {\n\t\t\tpersonsService\n\t\t\t\t.createPerson({\n\t\t\t\t\tname: newName,\n\t\t\t\t\tnumber: newNumber,\n\t\t\t\t\tid: persons.length + 1,\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tsetPersons([...persons, res.data])\n\t\t\t\t})\n\t\t\tresetForm()\n\t\t}\n\t}\n\n\tconst removePerson = id => {\n\t\tpersonsService.removePerson(id).then(() => {\n\t\t\tconst updatedPersons = persons.filter(person => person.id !== id)\n\t\t\tsetPersons(updatedPersons)\n\t\t})\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Phonebook</h1>\n\t\t\t<Filter value={{ filterName }} handler={{ handleFilter }} />\n\t\t\t<h2>Add a new contact</h2>\n\t\t\t<PersonForm\n\t\t\t\tvalues={{ newName, newNumber }}\n\t\t\t\thandlers={{\n\t\t\t\t\thandleNameChange,\n\t\t\t\t\thandleNumberChange,\n\t\t\t\t\taddPerson,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons persons={filteredContacts} removePerson={removePerson} />\n\t\t</div>\n\t)\n}\n\nexport default App\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}